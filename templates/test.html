{% extends 'base.html' %}

{% load crispy_forms_tags %}
{% block content %}

<title>CSV File Upload</title>
<style>



  .container {
    max-width: 500px;
    margin: 0 auto;
    padding: 20px;
    border: 1px solid #ccc;
    border-radius:5px;
    margin-top: 60px;
    background-color: #8f7272;
  }
  .form-group {
    margin-bottom: 15px;
    padding: 5px;
  }
  .form-group label {
    display: block;
    margin-bottom: 5px;
  }
  .form-group input[type="file"] {
    display: block;
  }
  .form-group input[type="submit"] {
    background-color: #4CAF50;
    color: #fff;
    padding: 10px 15px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }

  h2{

position: relative;
margin-top: 30px;

left: 40%;

}
</style>
<body>
  
  <h2>CSV File Upload</h2>
<div class="container">
  <form method="post" enctype="multipart/form-data">

   
    <div class="form-group">
      <label for="{{ form.csv_file.id_for_label }}">Csv file:</label>
      {{ form.csv_file }}
      
    </div>
    <div class="form-group">
      <label for="{{ form.message.id_for_label }}">InTime:</label>
      {{ form.in_time }}
     
    </div>
    <div class="form-group">
      <label for="{{ form.message.id_for_label }}">OutTime:</label>
      {{ form.out_time }}
      
    </div>
    <div class="form-group">
      <label for="{{ form.message.id_for_label }}">Email:</label>
      {{ form.email }}
     
    </div>
    <button class="btn btn-primary" type="submit">Upload</button>
  </form>
</div>
</body>
{% endblock %}


<!-- {% extends 'base.html' %}

{% load crispy_forms_tags %}
{% block content %}

<title>CSV File Upload</title>
<style>



  .container {
    max-width: 500px;
    margin: 0 auto;
    padding: 20px;
    border: 1px solid #ccc;
    border-radius:5px;
    margin-top: 60px;
    background-color: #8f7272;

  }
  .form-group {
    margin-bottom: 15px;
    padding: 5px;
  }
  .form-group label {
    display: block;
    margin-bottom: 5px;
  }
  .form-group input[type="file"] {
    display: block;
  }
  .form-group input[type="submit"] {
    background-color: #4CAF50;
    color: #fff;
    padding: 10px 15px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
  }

  h2{

position: relative;
margin-top: 30px;

left: 40%;

}
</style>
<body>
  
  <h2>CSV File Upload</h2>
<div class="container">
  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}
   
    <div class="form-group">
      <label for="{{ form.csv_file.id_for_label }}">Csv file:</label>
      {{ form.csv_file }}
      
    </div>
    <div class="form-group">
      <label for="{{ form.message.id_for_label }}">InTime:</label>
      {{ form.in_time }}
     
    </div>
    <div class="form-group">
      <label for="{{ form.message.id_for_label }}">OutTime:</label>
      {{ form.out_time }}
      
    </div>
    <div class="form-group">
      <label for="{{ form.message.id_for_label }}">Email:</label>
      {{ form.email }}
     
    </div>
    <button class="btn btn-primary" type="submit">Upload</button>
  </form>
</div>
</body>
{% endblock %} -->













{% extends 'base.html' %}


{% include message.html %}

{% block title %}
processed_file
{% endblock %}



{% block content %}


<div class="container-fluid h-200 mt-5">

    <h1 style="text-align: center;">Processd CsvFiles</h1><br>
    <table class="table table-striped table-hover">
      
      <tr>
        <th>Input Filename</th>
        <th>Processed Filename</th>
        <th>Processed file sent to</th>
        <th>View</th>
        <th>Download</th>

      </tr>
      
        <tr>
            {% for files in processed_file %}
        <td>{{ files.csv_processed_file }}</td>
          <td>{{ files.processed_file }}</td>
          <td>{{ files.csv_processed_file.email }}</td>
          <td><form action="{% url 'view_data' pk=files.pk %}" method="post">
            {% csrf_token %}
            <button class="btn btn-primary btn-block" type="submit">View</button>
        </form></td>
        <td><form action="{% url 'download_data' pk=files.pk %}" method="post">
          {% csrf_token %}
          <button style="font-size: 16px; border: none; background: none;"><i class="fa fa-download"></i></button>
      </form></td>
          


        </tr> 
   
        {% endfor %}


    </table>



</div>


